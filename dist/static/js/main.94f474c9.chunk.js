(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,t,a){},253:function(e,t,a){},288:function(e,t,a){e.exports=a(606)},294:function(e,t,a){},300:function(e,t,a){},450:function(e,t,a){},513:function(e,t,a){},606:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(184),o=a.n(s),i=(a(293),a(294),a(29)),l=a(30),c=a(33),u=a(31),m=a(34),d=a(622),h=a(624),p=a(287),f=a(610),E=a(12),g=a(608),b=a(609),v=(a(125),Object(E.b)(null,function(e){return{signOut:function(){return e(function(e,t,a){(0,a.getFirebase)().auth().signOut().then(function(){e({type:"SIGNOUT_SUCCESS"})})})}}})(function(e){return r.a.createElement("div",null,r.a.createElement(g.a,{pills:!0},r.a.createElement(b.a,null,r.a.createElement(f.a,{to:"/addShop/",className:"text-white nav-text"},"Add Shop")),r.a.createElement(b.a,{onClick:e.signOut,className:"text-white nav-text"},"Sign Out"),r.a.createElement(f.a,{to:"/",className:"text-white nav-text profileName"},e.profile.firstName)))})),N=function(){return r.a.createElement("div",null,r.a.createElement(g.a,{pills:!0},r.a.createElement(b.a,null,r.a.createElement(f.a,{to:"/signup/",className:"text-white nav-text"},"Sign Up"),r.a.createElement(f.a,{to:"/signin/",className:"text-white nav-text"},"Log In"))))},w=a(611),y=a(612),O=a(613),S=Object(E.b)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}})(function(e){var t=e.auth,a=e.profile,n=t.uid?r.a.createElement(v,{profile:a}):r.a.createElement(N,null);return r.a.createElement(w.a,{className:"p-2 bg-info text-white",light:!0,expand:"md"},r.a.createElement(y.a,null,r.a.createElement(O.a,{href:"/"},"Deliver App"),n))}),j=a(188),C=a(614),x=function(e){var t=e.shops;return r.a.createElement("div",{className:"project-list section"},r.a.createElement(C.a,{striped:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"City"),r.a.createElement("th",null,"Address"))),r.a.createElement("tbody",null,t&&t.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",{scope:"row"},t+1),r.a.createElement("th",null,r.a.createElement(j.a,{to:"/shop/"+e.id},e.name)),r.a.createElement("td",null,e.city),r.a.createElement("td",null,e.address))}))))},I=a(186),F=a.n(I),P=(a(300),a(615)),k=a(616),R=function(e){var t=e.notifications;return r.a.createElement("div",{className:"notifications"},r.a.createElement("div",{className:"notificationTitle"},"Notifications"),r.a.createElement(P.a,null,t&&t.map(function(e){return r.a.createElement(k.a,{className:"notifications",key:e.id},r.a.createElement("span",{className:"userName"},e.user," "),r.a.createElement("span",{className:"content"},e.content," "),r.a.createElement("span",{className:"date"},F()(e.time.toDate()).fromNow()))})))},A=a(38),U=a(21),_=a(623),L=(a(450),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.shops,a=e.auth,n=e.notifications;return a.uid?r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",{className:"shopListTitle"},"Shops list"),r.a.createElement(x,{shops:t}),r.a.createElement("hr",null),r.a.createElement(R,{notifications:n})):r.a.createElement(_.a,{to:"/signin"})}}]),t}(n.Component)),D=Object(U.d)(Object(E.b)(function(e){return console.log(e),{shops:e.firestore.ordered.shops,auth:e.firebase.auth,notifications:e.firestore.ordered.notifications}}),Object(A.firestoreConnect)([{collection:"projects",orderBy:["createdAt","desc"]},{collection:"shops"},{collection:"notifications",limit:3,orderBy:["time","desc"]}]))(L),q=Object(U.d)(Object(E.b)(function(e,t){var a=t.match.params.id,n=e.firestore.data.projects,r=n?n[a]:null,s=e.firestore.data.shops;return{project:r,shop:s?s[a]:null,auth:e.firebase.auth}}),Object(A.firestoreConnect)([{collection:"shops"}]))(function(e){var t=e.shop;return e.auth.uid?t?r.a.createElement("div",{className:"container section project-details"},r.a.createElement("div",{className:"card z-depth-0"},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"},t.name),r.a.createElement("p",null,t.name),"s"),r.a.createElement("div",{className:"card-action grey lighten-4 grey-text"},r.a.createElement("div",null,"Posted by ",t.name," ",t.name)))):r.a.createElement("div",{className:"container center"},r.a.createElement("p",null,"Loading shops...")):r.a.createElement(_.a,{to:"/signin"})}),G=a(44),T=(a(253),a(35)),B=a(122),W=a.n(B),M=a(123),H=a(63),Q=a.n(H),z=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",type:"password"},a.handleChange=function(e){a.setState(Object(G.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state)},a.showhidepass=function(e){"password"===a.state.type?a.setState({type:"text"}):a.setState({type:"password"})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?r.a.createElement(_.a,{to:"/"}):r.a.createElement("div",{className:"loginContainer"},r.a.createElement("div",{className:"formSignIn"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:Q.a,alt:"Logo"})),r.a.createElement("div",{className:"title"},"Sign In"),r.a.createElement(T.ValidationForm,{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"lebel",htmlFor:"email"},"Email"),r.a.createElement(T.TextInput,{name:"email",id:"email",type:"email",validator:W.a.isEmail,errorMessage:{validator:"Please enter a valid email"},value:this.state.email,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"lebel",htmlFor:"password"},"Password"),r.a.createElement(T.TextInputGroup,{name:"password",id:"password",type:this.state.type,required:!0,pattern:".{6,}",errorMessage:{required:"Password is required",pattern:"Password should be at least 6 characters long"},value:this.state.password,onChange:this.handleChange,append:r.a.createElement("div",{id:"eye",onClick:this.showhidepass},r.a.createElement(M.a,null))})),r.a.createElement("div",{id:"wrongUser"},t?r.a.createElement("p",null,t):null),r.a.createElement("div",{className:"form-group",id:"btn"},r.a.createElement("button",{className:"btn btn-success btn-lg btn-block"},"Submit")),r.a.createElement(j.a,{className:"forgotPassword",to:"/ForgotPassword"},"Forgot password?"))))}}]),t}(n.Component),V=Object(E.b)(function(e){return{authError:e.auth.authError,auth:e.firebase.auth}},function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})}));var a}}})(z),J=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",firstName:"",lastName:"",type:"password"},a.handleChange=function(e){a.setState(Object(G.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signUp(a.state)},a.showhidepass=function(e){"password"===a.state.type?a.setState({type:"text"}):a.setState({type:"password"})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return t.uid?r.a.createElement(_.a,{to:"/"}):r.a.createElement("div",{className:"loginContainer"},r.a.createElement("div",{className:"formSignUp"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:Q.a,alt:"Logo"})),r.a.createElement("div",{className:"title"},"Sign Up"),r.a.createElement(T.ValidationForm,{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"lebel",htmlFor:"email"},"Email"),r.a.createElement(T.TextInput,{name:"email",id:"email",type:"email",validator:W.a.isEmail,errorMessage:{validator:"Please enter a valid email"},value:this.state.email,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"lebel",htmlFor:"password"},"Password"),r.a.createElement(T.TextInputGroup,{name:"password",id:"password",type:this.state.type,required:!0,pattern:".{6,}",errorMessage:{required:"Password is required",pattern:"Password should be at least 6 characters long"},value:this.state.password,onChange:this.handleChange,append:r.a.createElement("div",{id:"eye",onClick:this.showhidepass},r.a.createElement(M.a,null))})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"lebel",htmlFor:"firstName"},"First Name"),r.a.createElement(T.TextInputGroup,{name:"firstName",id:"firstName",type:"text",required:!0,pattern:".{3,}",errorMessage:{required:"FirstName is required",pattern:"FirstName should be at least 3 characters long"},value:this.state.firstName,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"lebel",htmlFor:"lastName"},"Last Name"),r.a.createElement(T.TextInputGroup,{name:"lastName",id:"lastName",type:"text",required:!0,pattern:".{3,}",errorMessage:{required:"Last Name is required",pattern:"Last Name should be at least 3 characters long"},value:this.state.lastName,onChange:this.handleChange})),r.a.createElement("div",{id:"wrongUser"},a?r.a.createElement("p",null,a):null),r.a.createElement("div",{className:"form-group",id:"btn"},r.a.createElement("button",{className:"btn btn-success btn-lg btn-block"},"Submit")),r.a.createElement(j.a,{className:"forgotPassword",to:"/ForgotPassword"},"Forgot password?"))))}}]),t}(n.Component),Z=Object(E.b)(function(e){return{auth:e.firebase.auth,authError:e.auth.authError}},function(e){return{signUp:function(t){return e((a=t,function(e,t,n){var r=n.getFirebase,s=n.getFirestore,o=r(),i=s();o.auth().createUserWithEmailAndPassword(a.email,a.password).then(function(e){return i.collection("users").doc(e.user.uid).set({firstName:a.firstName,lastName:a.lastName,initials:a.firstName[0]+a.lastName[0]})}).then(function(){e({type:"SIGNUP_SUCCESS"})}).catch(function(t){e({type:"SIGNUP_ERROR",err:t})})}));var a}}})(J),K=a(54),$=a(617),X=a(618),Y=a(619),ee=a(620),te=a(621),ae=(a(513),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",city:"",address:""},a.handleChange=function(e){a.setState(Object(G.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.addShop(a.state),a.props.history.push("/")},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.auth.uid?r.a.createElement("div",{className:"loginContainer"},r.a.createElement("div",{className:"formAddShop"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:Q.a,alt:"Logo"})),r.a.createElement("div",{className:"title"},"Add Shop"),r.a.createElement($.a,{onSubmit:this.handleSubmit},r.a.createElement(X.a,{className:"form-group"},r.a.createElement(Y.a,{className:"lebel",for:"name"},"Name"),r.a.createElement(ee.a,{type:"text",id:"name",placeholder:"name",value:this.state.name,onChange:this.handleChange,required:!0})),r.a.createElement(X.a,{className:"form-group"},r.a.createElement(Y.a,{className:"lebel",for:"name"},"City"),r.a.createElement(ee.a,{type:"text",id:"city",placeholder:"city",value:this.state.city,onChange:this.handleChange})),r.a.createElement(X.a,{className:"form-group"},r.a.createElement(Y.a,{className:"lebel",for:"name"},"Address"),r.a.createElement(ee.a,{type:"text",id:"address",placeholder:"address",value:this.state.address,onChange:this.handleChange})),r.a.createElement(te.a,{className:"btn btn-success btn-lg btn-block"},"Submit")))):r.a.createElement(_.a,{to:"/signin"})}}]),t}(n.Component)),ne=Object(E.b)(function(e){return{auth:e.firebase.auth}},function(e){return{addShop:function(t){return e(function(e){return function(t,a,n){var r=(0,n.getFirestore)(),s=a().firebase.profile,o=a().firebase.auth.uid;r.collection("shops").add(Object(K.a)({},e,{authorFirstName:s.firstName,authorLastName:s.lastName,authorId:o,createdAt:new Date})).then(function(){t({type:"ADD_SHOP_SUCCESS"})}).catch(function(e){t({type:"ADD_SHOP_ERROR"},e)})}}(t))}}})(ae),re=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(S,null),r.a.createElement(h.a,null,r.a.createElement(p.a,{exact:!0,path:"/",component:D}),r.a.createElement(p.a,{path:"/shop/:id",component:q}),r.a.createElement(p.a,{path:"/signin",component:V}),r.a.createElement(p.a,{path:"/signup",component:Z}),r.a.createElement(p.a,{path:"/addShop",component:ne}))))}}]),t}(n.Component),se=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function oe(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");se?(!function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ie(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):ie(e)})}}function ie(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var le={authError:null},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login error"),Object(K.a)({},e,{authError:"Login failed"});case"LOGIN_SUCCESS":return console.log("login success"),Object(K.a)({},e,{authError:null});case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(K.a)({},e,{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(K.a)({},e,{authError:t.err.message});default:return e}},ue={},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue;switch((arguments.length>1?arguments[1]:void 0).type){case"ADD_SHOP_SUCCESS":return console.log("add_shop success"),e;case"ADD_SHOP_ERROR":return console.log("add_shop error"),e;default:return e}},de=a(81),he=Object(U.c)({auth:ce,shop:me,firestore:de.firestoreReducer,firebase:A.firebaseReducer}),pe=a(286),fe=a(124),Ee=a.n(fe);a(600),a(604);Ee.a.initializeApp({apiKey:"AIzaSyCZejQZP6f4vhHb1t2tBD9qda8BQp2V5kQ",authDomain:"delivery-service-851de.firebaseapp.com",databaseURL:"https://delivery-service-851de.firebaseio.com",projectId:"delivery-service-851de",storageBucket:"delivery-service-851de.appspot.com",messagingSenderId:"703165206035",appId:"1:703165206035:web:9d7f8c555948741e"}),Ee.a.firestore().settings({timestampsInSnapshots:!0});var ge=Ee.a,be=Object(U.e)(he,Object(U.d)(Object(U.a)(pe.a.withExtraArgument({getFirebase:A.getFirebase,getFirestore:de.getFirestore})),Object(A.reactReduxFirebase)(ge,{userProfile:"users",useFirestoreForProfile:!0,attachAuthIsReady:!0}),Object(de.reduxFirestore)(ge)));be.firebaseAuthIsReady.then(function(){o.a.render(r.a.createElement(E.a,{store:be},r.a.createElement(re,null)),document.getElementById("root")),oe()})},63:function(e,t,a){e.exports=a.p+"static/media/logo.654edfa0.png"}},[[288,1,2]]]);
//# sourceMappingURL=main.94f474c9.chunk.js.map